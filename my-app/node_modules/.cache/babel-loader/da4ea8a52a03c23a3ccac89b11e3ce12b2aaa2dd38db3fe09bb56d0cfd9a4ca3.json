{"ast":null,"code":"import { create } from \"zustand\";\nimport axios from \"axios\";\nconst authStore = create(set => ({\n  loggedIn: null,\n  loginForm: {\n    email: \"\",\n    password: \"\"\n  },\n  signupForm: {\n    email: \"\",\n    password: \"\"\n  },\n  updateLoginForm: e => {\n    const {\n      name,\n      value\n    } = e.target;\n    set(state => {\n      return {\n        loginForm: {\n          ...state.loginForm,\n          [name]: value\n        }\n      };\n    });\n  },\n  updateSignupForm: e => {\n    const {\n      name,\n      value\n    } = e.target;\n    set(state => {\n      return {\n        signupForm: {\n          ...state.signupForm,\n          [name]: value\n        }\n      };\n    });\n  },\n  login: async () => {\n    const {\n      loginForm\n    } = authStore.getState();\n    const res = await axios.post(\"/login\", loginForm, {\n      withCredentials: true\n    });\n    set({\n      loggedIn: true\n    });\n    console.log(res);\n  },\n  checkAuth: async () => {\n    try {\n      await axios.get(\"/check-auth\", {\n        withCredentials: true\n      });\n      set({\n        loggedIn: true\n      });\n    } catch (error) {\n      set({\n        loggedIn: false\n      });\n    }\n  },\n  signup: async () => {\n    const {\n      signupForm\n    } = authStore.getState();\n    const res = await axios.post(\"/signup\", signupForm, {\n      withCredentials: true\n    });\n    set({\n      signupForm: {\n        email: \"\",\n        password: \"\"\n      }\n    });\n    console.log(res);\n  },\n  logout: async () => {\n    axios;\n  }\n}));\nexport default authStore;","map":{"version":3,"names":["create","axios","authStore","set","loggedIn","loginForm","email","password","signupForm","updateLoginForm","e","name","value","target","state","updateSignupForm","login","getState","res","post","withCredentials","console","log","checkAuth","get","error","signup","logout"],"sources":["D:/login-frontend/my-app/src/stores/authStore.js"],"sourcesContent":["import { create } from \"zustand\";\r\nimport axios from \"axios\";\r\n\r\nconst authStore = create((set) => ({\r\n  loggedIn: null,\r\n  loginForm: {\r\n    email: \"\",\r\n    password: \"\",\r\n  },\r\n  signupForm: {\r\n    email: \"\",\r\n    password: \"\",\r\n  },\r\n  updateLoginForm: (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    set((state) => {\r\n      return {\r\n        loginForm: {\r\n          ...state.loginForm,\r\n          [name]: value,\r\n        },\r\n      };\r\n    });\r\n  },\r\n  updateSignupForm: (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    set((state) => {\r\n      return {\r\n        signupForm: {\r\n          ...state.signupForm,\r\n          [name]: value,\r\n        },\r\n      };\r\n    });\r\n  },\r\n  login: async () => {\r\n    const { loginForm } = authStore.getState();\r\n\r\n    const res = await axios.post(\"/login\", loginForm, {\r\n      withCredentials: true,\r\n    });\r\n    set({ loggedIn: true });\r\n\r\n    console.log(res);\r\n  },\r\n\r\n  checkAuth: async () => {\r\n    try {\r\n      await axios.get(\"/check-auth\", { withCredentials: true });\r\n      set({ loggedIn: true });\r\n    } catch (error) {\r\n      set({ loggedIn: false });\r\n    }\r\n  },\r\n  signup: async () => {\r\n    const { signupForm } = authStore.getState();\r\n    const res = await axios.post(\"/signup\", signupForm, {\r\n      withCredentials: true,\r\n    });\r\n    set({\r\n      signupForm:{\r\n        email:\"\",\r\n        password:\"\",\r\n      }\r\n    })\r\n    console.log(res);\r\n  },\r\n  logout: async()=>{\r\n    axios\r\n  }\r\n}));\r\n\r\nexport default authStore;\r\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,SAAS;AAChC,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,SAAS,GAAGF,MAAM,CAAEG,GAAG,KAAM;EACjCC,QAAQ,EAAE,IAAI;EACdC,SAAS,EAAE;IACTC,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE;EACZ,CAAC;EACDC,UAAU,EAAE;IACVF,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE;EACZ,CAAC;EACDE,eAAe,EAAGC,CAAC,IAAK;IACtB,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAEhCV,GAAG,CAAEW,KAAK,IAAK;MACb,OAAO;QACLT,SAAS,EAAE;UACT,GAAGS,KAAK,CAACT,SAAS;UAClB,CAACM,IAAI,GAAGC;QACV;MACF,CAAC;IACH,CAAC,CAAC;EACJ,CAAC;EACDG,gBAAgB,EAAGL,CAAC,IAAK;IACvB,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAEhCV,GAAG,CAAEW,KAAK,IAAK;MACb,OAAO;QACLN,UAAU,EAAE;UACV,GAAGM,KAAK,CAACN,UAAU;UACnB,CAACG,IAAI,GAAGC;QACV;MACF,CAAC;IACH,CAAC,CAAC;EACJ,CAAC;EACDI,KAAK,EAAE,MAAAA,CAAA,KAAY;IACjB,MAAM;MAAEX;IAAU,CAAC,GAAGH,SAAS,CAACe,QAAQ,CAAC,CAAC;IAE1C,MAAMC,GAAG,GAAG,MAAMjB,KAAK,CAACkB,IAAI,CAAC,QAAQ,EAAEd,SAAS,EAAE;MAChDe,eAAe,EAAE;IACnB,CAAC,CAAC;IACFjB,GAAG,CAAC;MAAEC,QAAQ,EAAE;IAAK,CAAC,CAAC;IAEvBiB,OAAO,CAACC,GAAG,CAACJ,GAAG,CAAC;EAClB,CAAC;EAEDK,SAAS,EAAE,MAAAA,CAAA,KAAY;IACrB,IAAI;MACF,MAAMtB,KAAK,CAACuB,GAAG,CAAC,aAAa,EAAE;QAAEJ,eAAe,EAAE;MAAK,CAAC,CAAC;MACzDjB,GAAG,CAAC;QAAEC,QAAQ,EAAE;MAAK,CAAC,CAAC;IACzB,CAAC,CAAC,OAAOqB,KAAK,EAAE;MACdtB,GAAG,CAAC;QAAEC,QAAQ,EAAE;MAAM,CAAC,CAAC;IAC1B;EACF,CAAC;EACDsB,MAAM,EAAE,MAAAA,CAAA,KAAY;IAClB,MAAM;MAAElB;IAAW,CAAC,GAAGN,SAAS,CAACe,QAAQ,CAAC,CAAC;IAC3C,MAAMC,GAAG,GAAG,MAAMjB,KAAK,CAACkB,IAAI,CAAC,SAAS,EAAEX,UAAU,EAAE;MAClDY,eAAe,EAAE;IACnB,CAAC,CAAC;IACFjB,GAAG,CAAC;MACFK,UAAU,EAAC;QACTF,KAAK,EAAC,EAAE;QACRC,QAAQ,EAAC;MACX;IACF,CAAC,CAAC;IACFc,OAAO,CAACC,GAAG,CAACJ,GAAG,CAAC;EAClB,CAAC;EACDS,MAAM,EAAE,MAAAA,CAAA,KAAS;IACf1B,KAAK;EACP;AACF,CAAC,CAAC,CAAC;AAEH,eAAeC,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}